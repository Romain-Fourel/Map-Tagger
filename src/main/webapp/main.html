<!DOCTYPE html>

<html>
    <head>
        <meta charset="utf-8"/>
        <link rel="stylesheet" href="styles/main.css">

        <!--Leaflet css:-->
        <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css"
        integrity="sha512-xodZBNTC5n17Xt2atTPuE1HxjVMSvLVW9ocqUKLsCC5CXdbqCmblAshOMAS6/keqq/sMZMZ19scR4PsZChSR7A=="
        crossorigin=""/>

        <link rel="stylesheet" href="./tagify-master/dist/tagify.css">
        
        <title>Map Tagger</title>
    </head>

    <body>

        <div id="mapid"></div>

        <!--All panels which are shown on the map:-->
        <div id="interface">

            <div id="buttons">

                <div id ="circleButton">

                    <div id="right">
                        <button id="communityMapsB"></button>
                        <button id="savedMapsB"></button>     
                        <button id="placesListB"></button>
                    </div>

                    <div id="left">
                        <button id="researcher" href="#popup1"></button>
                        <button id="parameters"></button>
                    </div>

                </div>
                
                <button class="hoverL" id="addAPlaceB">+</button>

            </div><!--End of buttons div-->

            
            <div class="overlay">
                <div class="PopupMenu" id="addAPlaceMenu">
                    <p>
                        <form>
                            <input name="place" type="text" class="AddNameInput" id="addNamePlace" placeholder="Name this place..." autocomplete=off>
                            <textarea maxlength=255 name="description" class="AddDescriptionInput" id="addDescriptionPlace" placeholder="Describe this place..." rows=10 cols=72 autocomplete=off></textarea>
                            <button class="CloseButton" type="reset">x</button>
                            <!--
                            <button id="addImages" type="button">add image</button>
                            -->
                            <input type="file" name="searchImages"  value="Add value">
                            
                            
                            <h2>Tags :</h2>

                            <input type="textarea" id="addAPlaceTags" class="Scrollbar addAPlaceTagify">
                            
                            
                            <script id="templateAddPlaceTags" type="text/template">
                                <button class="ANewTagButton" type="button"> <%=addOneTagName %> </button>
                            </script>


                            <select name="mapChoice" class="PopupChoice" id="mapChoicePlace" placeholder="Choose a map" required>
                                <option value="CAMap">--- Choose a map ---</option>
                            </select>
                            <!--Below: The template for the div above-->
                            <script id="templateMapChoicePlace" type="text/template">
                                <option value= <%= valueMapChose %> > <%= nameMap %> </option>
                            </script>
                   
                            <button class="createOkButton" id="editPlace" type="reset">Ok</button>
                        </form>
                    </p>
                </div>

                <div class="PopupMenu" id="addAMapMenu"> 
                    <p>
                        <form>
                            <input name="map" type="text" class="AddNameInput" id="addNameMap" placeholder="Name this map..." autocomplete=off required>
                            <textarea maxlength=255 name="description" class="AddDescriptionInput" id="addDescriptionMap" placeholder="Describe this map..." rows=10 cols=72 autocomplete=off></textarea>
                            <button class="CloseButton" type="reset">x</button>
                            <select name="confidentiality" class="PopupChoice" id="confidentialityChoiceMap" placeholder="confidentiality" required>
                                <option value="PRIVATE">Private</option>
                                <option value="PUBLIC">Public</option>                     
                            </select>
                            <button class="createOkButton" id="editMap" type="reset">Ok</button>
                        </form>
                    </p>

                </div>

            </div>
         
            
            <!------------ all RightSlidingPanels:--------------->

            <div class="Menu RightSlidingPanel" id="communityMapsMenu">
                <h1>Community Maps</h1>
                
                <div id="communityMapsButtons" class="Scrollbar fullScrollbarRight"></div>
                <!--Below: the script for the div above!-->
                <script id="templateOneCommunityMapButton" type="text/template">
                    <p class='OneDiv'>
                        <label class='labelOneDiv'> <%= nameMap %> </label>
                        <button class='buttonShowsDetails' id= <%= oneCommunityMapButtonId %> > > </button>
                    </p>
                </script>


                <button class="RightSlidingPanelQuit" id="communityMapsMenuQuit"><i class="fa fa-angle-right" aria-hidden="true"></i></button>
            </div>
        
            <div class="Menu RightSlidingPanel" id="savedMapsMenu">
                <h1> <i class="fa fa-map"></i> My Maps</h1>
                <div id="savedMapsButtons" class="Scrollbar fullScrollbarRight">
                    <!--Here are dynamically added the maps of the current user-->              
                </div>
                <!--Below: the script for the div above!-->
                <script id="templateSavedMapsButton" type="text/template">

                    <p class='OneDivSMM' id= <%= oneMapDivId %> >
                    <input type='checkbox' id= <%= checkBoxMapId %>  <%= checked %> />
                    <label for= <%= checkBoxMapId %> > <span class='spanLabel'></span> <%= nameMap %> </label>
                        
                    <button class='buttonShowsDetails' id= <%= buttonOneMapMenuId %> >  > </button>
                    </p>

                </script>

                <button class="btn-bottom modifyButton" id="addAMapB"><i class="fa fa-plus" aria-hidden="true"></i></button>
                <button class="RightSlidingPanelQuit" id="savedMapsMenuQuit" ><i class="fa fa-angle-right" aria-hidden="true"></i></button>

                
            </div>

            <div class="Menu RightSlidingPanel" id="placesListMenu">
                <h1>My Places</h1>       
                <div id="placesListButtons" class="Scrollbar fullScrollbarRight"></div>

                <!--Below: the script for the div above!-->
                <script id="templateOnePlaceButton" type="text/template">
                    <p class='OneDiv'>
                        <label class='labelOneDiv'> <%= namePlace %> </label>
                        <button class='buttonShowsDetails' id= <%= onePlaceButtonId %> > > </button>
                    </p>
                </script>

                <button class="RightSlidingPanelQuit" id="placesListMenuQuit"><i class="fa fa-angle-right" aria-hidden="true"></i></button>            
            </div>
            
            <div class="Menu RightSlidingPanel" id="onePlaceMenu">
                <h1><i class="fa fa-map-marker"></i> <span id="nameOnePlaceMenu"></span></h1>   
                
                <div class="Scrollbar fullScrollbarRight">
                    <textarea class="descriptionArea" rows=8 cols=32 disabled><!--Description of the place:--></textarea>
                    <textarea id="onePlaceTags" readOnly rows="7" cols="32" class="Scrollbar readOnlyTags"></textarea>
                    <h3>Comments:</h3>
                    <button id="addAMessageButton"><i class="fa fa-commenting" aria-hidden="true"></i></button>
                    <br/>           
                    
                    <div id="addAMessageDiv"></div>
                    <script id="templateOnePlaceAddAMessage" type="text/template">
                        <textarea id="addAMessageTextarea" cols="32" rows="4"></textarea>
                        <button class="sendButton" id="onePlaceSendMessage"><i class="fa fa-paper-plane" aria-hidden="true"></i></button>
                    </script>

                    <div id="onePlaceMessages"></div>
                    <script id="templateOnePlaceMessages" type="text/template">
                            <textarea class="oneMessageTextarea" id= <%= oneMessageTextareaId %> cols="32" rows="4" disabled>
                            </textarea>   
                    </script>

                </div>

                <button class="btn-bottom delButton" id="removePlace"><i class="fa fa-trash-o"></i></button>
                <button class="btn-bottom modifyButton" id="modifyPlace"><i class="fa fa-pencil" aria-hidden="true"></i></button>
                <button id="centerToMarkerPlaceButton"><i class="fa fa-location-arrow"></i></button>
                <button class="RightSlidingPanelQuit" id="onePlaceMenuQuit"><i class="fa fa-angle-right" aria-hidden="true"></i></button> 
            </div>

            <div class="Menu RightSlidingPanel" id="oneMapMenu"> 
                <h1><i class="fa fa-map-marked"></i> <span id="nameOneMapMenu"></span></h1>     
                
                <div class="Scrollbar fullScrollbarRight">
                    <textarea class="descriptionArea" rows=8 cols=32 disabled id="descriptionOneMapMenu"><!--Description of the map:--></textarea>
                    <h3 id="oneMapConfidentiality"></h3>
                    <button class='btn-share' id="oneMapMenuShareButton"><i class="fa fa-share-alt"></i></button>
                    <input  placeholder="User id" id="oneMapMenuShareUserId" type="text"/> 
                    <button class="sendButton" id="oneMapMenuShareSendButton"><i class="fa fa-paper-plane" aria-hidden="true"></i></button>
    
                    <!--list of places of this map-->
                    <div id="oneMapPlaces"></div>
                    <script id="templateOneMapPlaces" type="text/template">
                        <p class='OneDiv' id= <%= oneMapPlaceId %> >
                            <label class='labelOneDiv'><%= namePlace %></label>
                            <button class='buttonShowsDetails' id= <%= buttonOnePlaceMenuId %> > > </button>
                        </p>
                    </script>
                </div>

                <button class="btn-bottom delButton" id="removeMap"><i class="fa fa-trash-o"></i></button>
                <button class="btn-bottom modifyButton" id="modifyMap"><i class="fa fa-pencil" aria-hidden="true"></i></button>
                <button class="btn-bottom modifyButton" id="followMap">Follow</button>
                <button class="RightSlidingPanelQuit" id="oneMapMenuQuit"><i class="fa fa-angle-right" aria-hidden="true"></i></button> 
            </div>


            <!------------- all LeftSlidingPanels:----------------->

            <div class="Menu LeftSlidingPanel" id="searchingPlacesMenu">
                <input type="search" placeholder="add a new tag..." id="addASearchingTagInput" autocomplete="off"/>
                <button id="searchByTagsButton" type="button">Search</button>
                <button id="resetSearchByTagsButton" type="button">Reset search</button>
                <button id="addATagToSearchingPlacesButton" type="button">Add</button>


                <textarea id="searchingPlacesTags" disabled rows="7" cols="25" ></textarea>

                <button class="LeftSlidingPanelQuit" id="searchingPlacesMenuQuit"><i class="fa fa-angle-left" aria-hidden="true"></i></button>

            </div>

            <div class="Menu LeftSlidingPanel" id="parametersMenu">
                <h1>Parameters</h1>

                <div class="Scrollbar fullScrollbarLeft">

                    <h3>Your identity:</h3>

                    <p id="userIdendityDiv"></p>
                    
                    <h3>Map shared by other users:</h3>
                    <div id="mapsSharedDiv"></div>

                    <script id="templateMapsSharedDiv" type="text/template">
                        <p class='OneDiv' id= <%= oneMapSharedId %> >
                            <label class='labelOneDiv'><%= nameMap %></label>
                            <button class='oneMapSharedFollowButton' id= <%= oneMapSharedFollowButtonId %> > <i class="fa fa-share" aria-hidden="true"></i> </button>
                            <button class='oneMapSharedIgnoreButton' id= <%= oneMapSharedIgnoreButtonId %> > <i class="fa fa-close" aria-hidden="true"></i> </button>
                        </p>
                    </script>

                </div>

                <button class='RedButton' id="disconnectButton">Disconnect</button>
                <button class="LeftSlidingPanelQuit" id="parametersMenuQuit"><i class="fa fa-angle-left" aria-hidden="true"></i></button>
            </div>



        
        </div> <!--End of interface div-->

	    <script type="text/javascript" src="https://code.jquery.com/jquery-2.2.0.min.js"></script>
	    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.3/underscore-min.js"></script>
        
        <!--Leaflet javascript:-->
        <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"
        integrity="sha512-XQoYMqMTK8LvdxXYG3nZ448hOEQiglfqkJs1NOQV44cWnUrBc8PkAOcXy20w0vlaXaVUearIOBhiXZ5V3ynxwA=="
        crossorigin=""></script>


        <!--To get the font awesome !!-->
        <script src="https://use.fontawesome.com/ba7c0f482b.js"></script>

        <!-- To get the tags input plugin !!-->
        <script type="text/javascript" src="tagify-master/dist/jQuery.tagify.min.js"></script>
        <script type="text/javascript" src="tagify-master/dist/tagify.min.js"></script>
        <script type="text/javascript" src="tagify-master/dist/tagify.polyfills.min.js"></script>

        <script type="text/javascript" src="scripts/main.js"></script>

    </body>
</html>


